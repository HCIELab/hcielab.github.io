<!DOCTYPE html>
<html>
<head>
	<title>6.810 Lab7 Temperature Sensor</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<!-- CSAIL ICON -->
	<link rel="CSAIL" href="../../../images/icon/csail.ico" type="image/x-icon" />

	<!-- Bootstrap -->
	<link href="../../css/bootstrap.css" rel="stylesheet">
	<link href="../../css/custom-style.css" rel="stylesheet">

	<!-- jQuery -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Barlow" rel="stylesheet">

	<!-- Google Analytic -->
	<script type="text/javascript" src="../../js/analytics.js"></script>
    
    <SCRIPT SRC='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></SCRIPT>
<SCRIPT>MathJax.Hub.Config({ tex2jax: {inlineMath: [['',''], ['\\(','\\)']]}})</SCRIPT>

	<style>
	.etech-sch-col1 {width:60px; border: 1px solid black;padding:10px;}
	.etech-sch-col2 {width:120px; border: 1px solid black;padding:10px;}
	.etech-sch-col3 {width:450px; border: 1px solid black;padding:10px;}
	.etech-sch-col4 {width:70px; border: 1px solid black;padding:10px;}
  .etech-sch-col5 {width:70px; border: 1px solid black;padding:10px;}
  /*.etech-sch-col6 {width:170px; border: 1px solid black;padding:10px;}*/
  ul {
    padding:0px;padding-left:10px;margin:0px;
  }
	</style>
</head>

<body>
<header class="main_header">
	<!-- to be filled by javascript, see header.html -->
</header>

<section class="main_container">
	<div class="container">
    <div class="row nothing">

      <section class="col-md-8 pull-right main-content">
</br></br></br></br>
        <h4 class="medium.headline"><a href="6810-engineering-interactive-technologies.html">6.810 Engineering Interactive Technologies (fall 2021)</a><br></h4>
        <h2 class="headline">Lab 7: Inkjet Printed Temperature Sensor</h2>

In this lab, we will first create the digital design of an ink-jet printed temperature sensor to sense the heat of the mug when a hot drink is poured in. We will then create the overall circuit design for the mug, which contains the temperature sensor and connector pads for the EL display. Finally, we will print out the circuit design on the inkjet printer. In the next lab, we will then assemble everything into the final mug and write the temperature sensing code.<br><br>   
          
 <div style="color:red; border: red 1px solid; padding: 20px;margin-bottom:20px;">
<b>Don't forget to bring your EL display:</b><br> Please don't forget to bring your EL display for this and the next labs in this series.</div>


 <img src="images/lab6/mugCircuit.PNG" width="550px"><img src="images/labseries-mug/circuitOnMug.jpg" width="194px" /><br>


<h3>Steps:</h3>
<ol>
  <li><a href="#temperaturesensing">Understand Temperature Sensing</a></li>
  <li><a href="#sensorshape">Determine the Shape of a Temperature Sensor</a></li>
  <li><a href="processingscript">Generate Temperature Sensor Using Processing Script</a></li>
  <li><a href="#overallcircuit"> Integrate Temperature Sensor and EL Display Circuit</a></li>
  <li><a href="#inkjetprintcircuit">Inkjet Print Circuit</a></li>
  <li><a href="#copperpad">Connect Your Display to the Printed Circuit</a></li>
  <li><a href="#displaycircuit">Attach Display to Printed Circuit</a></li>
  <li><a href="#laminate">Laminate your mug interface</a></li>
</ol>

<h3>Deliverables</h3>

At the end of the lab, upload to your student google drive:
<ol>
        <li>the Processing code (.pde) to generate the temperature sensor</li>
        <li>the Adobe Illustrator file (.pdf) with the completed circuit design</li>
        <li>1 photo (.jpg or .png) of your inkjet printed temperature sensor</li>
    </ol>
    
<div style="color:black; border: black 1px solid; padding: 20px;margin-bottom:20px;">
<b>Help us Improve Class Materials for Lab7:</b><br>
Please let us know if you had any trouble with the circuit drawing or if anything was confusing in the write up. <br> <a href="https://docs.google.com/document/d/1YKoNUb9T85Acbfh-jT0SfCVRACLxwdKZQCVremZpgJs/edit?usp=sharing">You can add your comments here.</a></div>

    
     <h3 id="temperaturesensing">(1) Understand Temperature Sensing</h3>

     You will make your own <code>temperature sensor</code> from scratch using <code>conductive inkjet printing</code>. But why can conductive traces be used to sense temperature?<br><br>

     <b>Resistance Changes with Temperature:</b> Conductive traces can be used to sense temperature because their <code>resistance changes</code> with <code>changes in temperature</code>, a property other metals share as well. This phenomenon can be understood by picturing <code>how electrons move in a conductive material from one pol to the other</code>. The conductive material is filled with atoms and molecules that bounce around. Electrons trying to move through the conductive material may <code>collide with the atoms and molecules</code>, and as a result, the electrons may be deflected or scattered around in the material. With <code>higher temperatures</code>, the atoms and molecules <code>bounce around more and scatter electrons stronger</code>, which leads to a higher resistance.<br><br>

     Below, you see the <code>resistivity change</code> of silver, copper, and gold under different temperatures. Note, that these functions are not linear overall, but can be approximated with a <code>linear function</code> for temperature changes between <code>0C - 100C</code> with only a small error.<br><br>
    
     <img src="images/lab7/Resistivity_Cu-Ag-Au.png" width="400px"><br><br>
        
     <b>Formula for Computing Overall Resistance at a Certain Temperature:</b> As mentioned above, for temperature changes between 0C - 100C, the resistance of our conductive traces varies linearly with temperature. We can describe the <code>resistance at a certain temperature</code> with the following equation:<br>
     \[ R_{temp} = R_{Ref}(1+\alpha (T - T_{Ref})) \]

     <i>R_{temp}:</i> is the resistance at the current temperature T<br>
    <i>R_{Ref}:</i> is the resistance at a given reference temperature T_{Ref}<br>
     <i>alpha:</i> is the temperature coefficient of the conductive material in our case the <code>silver ink</code><br><br>
    
    <b>Determining alpha:</b> While the <code>temperature coefficient alpha</code> is known for metals, such as pure silver, our silver ink is a <span style="color: red">special mixture that has a different temperature coefficient.</span> Since we cannot measure <code>alpha</code> directly, we will instead measure the resistance of our conductive traces at two temperatures (e.g., the conductive traces at room temperature of 20C, and when boiling water is poured into the mug at 100C) and measure the resulting resistances. We can then fill out the formula and calculate the <code>temperature coefficient alpha</code> of our silver ink  traces. Before we can take those measurements, we first have to create our temperature sensor. Let's start with this.  <br><br>

    
    <h3 id="sensorshape">(2) Determine the Shape of a Temperature Sensor</h3>
    The temperature sensor that we wrap around the coffee mug should ideally give us an temperature average over a larger area of the mug to make sure that we read reliable values even when the mug is only half full or a user touches one part of the mug with their above-room-temperature warm fingers. Thus, your temperature sensor should cover a sufficient surface area around the mug. <br><br>
    Your task is to cover a 70mmx20mm large area on the mug with silver traces. The next question that arises is how to best shape a wire to cover the maximal area on your mug?<br><br>
    
    <b>Horse Shoe Pattern:</b> A classic method to create a long wire on a small area is to design it in a horse shoe pattern, which looks like this:<br><br>
    
    <img src="images/lab7/hsp2.png" width="700px"><br><br> 
    
    In the next step, you will write a program to automatically generate a temperature sensor for a given size.
<!--
    <h3 id="wirelength">(5) Determine Wire Length (l) to Achieve 1kOhm Resistance</h3>

    Finally, we can determine the wire length (l) based on all the other values.<br><br>

    <b>Wire length (l) for 1kOhm:</b> Using the formula below, how long does your wire have to be to achieve a 1kOhm resistance? You will need to know your wire length when you design the inkjet printed wire in the next step.<br><br> 
    
    <pre>Overall Resistance (R) = wire length (l) * thermal resisvity (p(20C)) = l * 7.5 Ohm/cm</pre><br>
-->
    <h3 id="processingscript">(3) Generate Temperature Sensor Using Processing Script</h3>
    
    Since drawing a horse shoe pattern manually is quite the pain, let's leverage our computational design capabilities in Processing.<br><br>   
    
    <b>Write Processing Script to Generate Line Layout:</b> Write a Processing Script that generates a temperature sensor layout of variable width and height. Reuse your code from pset1 to write this script. <br><br>
    
    <b>Declare variables for 4 required parameters to your Processing script:</b> There are 4 parameters necessary to generate this horse shoe pattern: Sensor width, Sensor height, Trace thickness, and distance between traces. Your Script should be able to generate a sensor layout for different values of these 4 parameters.<br><br>  

     <b>Generate Horse Shoe Pattern:</b> Generate a set of horizontal lines of the given thickness and connect them with vertical lines on alternating sides. Make sure that the traces start and end on the same side.<br><br>
    
    <b>Default values: </b>The default values in your program to generate your temperature sensor should be:
    <ol>
        <li>Wire thickness = 0.3mm</li>
        <li>Spacing between silvertraces = 0.5mm</li>
        <li>Width of temperature sensor = 70mm</li>
        <li>Width of temperature sensor = 20mm</li>
    </ol>

     <i>Export Temperature Sensor as PDF:</i> Output a .pdf that contains the temperature sensor ready for inkjet printing. The pdf should be letter sized.<br><br>

     <b>Check Temperature Sensor in Illustrator:</b> Open your temperature sensor pdf in Adobe Illustrator and measure to confirm that:

    <ol>
        <li>Wire thickness = 0.3mm</li>
        <li>Spacing between silvertraces = 0.5mm</li>
        <li>Width of temperature sensor = 70mm</li>
        <li>Width of temperature sensor = 20mm</li>
    </ol>
  
    <h3 id="overallcircuit">(4) Integrate Temperature Sensor and EL Display Circuit</h3>

    Now that you have the temperature sensor, it's time to extend the circuit to also include the EL display, whose brightness we want to control based on temperature changes. Below, you see an image of the mug for reference and the overall circuit layout that fits onto the mug, which has all the elements you need for the circuit. <br><br>

    <br>
    <img src="images/lab7/mug-circuits-schematic.png" width="750px"><br><br>

    <b>Download Overall Circuit File:</b> <a href="images/lab7/Mug_Template.pdf">Download the overall circuit file from here.</a> It contains a rectangle that shows you how much space you have on the mug (width: 170mm, height: 50mm).<br><br> 

    <b>Add Temperature Sensor to Circuit:</b> Open your temperature sensor pdf in Adobe Illustrator. Copy the temperature sensor into your overall circuit file. The imported temperature sensor should be placed near the mug's handle as shown above.<br><br>

    <b>Add two Connector Pads to Temperature Sensor:</b> Draw two connector pads (each size: 30mm x 5cm) and connect them with two wires (thickness: 1mm) to the temperature sensor start and end of the horse shoe pattern. We will later connect our microcontroller to those connector pads.<br><br>

    <b>Draw a placeholder for your EL display:</b> Measure the size of your EL display and draw a placeholder rectangle in your overall circuit design. The sprayed EL display should be placed on the opposite side of the handle as shown in the image above. There should be a 10mm gap between the temperature sensor and the edge of your EL display to ensure they do not touch each other.<br><br> 

    <b>Draw a placeholder for copper flaps:</b> Also draw two placeholders for the copper connectors on your EL display. One connector is the copper flap that we attached to the copper sprayed area, the other connector is the copper tape at the bottom of the display. Draw their position accurately into your circuit drawing.<br><br> 

    <b>Draw two Connector Pads to EL Display:</b> Next, draw an additional two connector pads (each size: 30mm x 5mm) and connect them with two wires (thickness: 2mm) to the EL display copper flap/stripe. There should be at least a distance of 3cm between the wires at the location where they connect to the EL display to avoid short circuits. The position of the wire is essential, if it is placed too high or too low it will not make a connection to your EL display.<br><br>

    Once you are done, double check one more time:
    <ol>
        <li>The spacing between your display-connected traces matches the distance between the two pieces of copper on YOUR display.</li>
        <li>The height of your circuit (i.e., the bounding rectangle) is within the maximum heihgt and width (170mm x 50mm)</li>
        <li>The temperature sensor does not overlap with the display, there is a gap of at least 1cm between them.</li>
        <li>The temperature sensor is 70mm x 20mm </li>
        <li>The trace width to your display is 2mm </li>
        <li>The connector pads are 30mm x 5mm </li>
</ol><br>


    <h3 id="inkjetprintcircuit">(5) Inkjet Print Circuit</h3>

    Once you are done with your circuit design, please put it in <span style="color:red">your google drive</span> and <span style="color:red">let us know on slack</span> that you are ready for inkjet printing.<br><br>

    <b>Inkjet Print Circuit:</b> Once we confirmed that everything looks good, go ahead and inkjet print your circuit on white inkjet paper sheets.<br><br>

    <b>Check Resistance of your Temperature Sensor:</b> Once your print is done, check if the temperature sensor is printed properly. Use a multimeter and hold its two electrodes on the two corresponding connector pads, you should read a value of around a few 100 Ohms to 1 kOhm.<br><br>
    
    The next steps of this lab will be to attach your display to the printed circuit, add some copper tape to the connector pads and laminate everything so it is safe and protected until you continue assembling your mug next week.
    
    The final circuit should lok like this:<br><br>
    <img src="images/lab7/laminated_circuit.jpg" width="500px"><br><br>
    
    
    <h3 id="copperpad">(6) Attach Copper Tape to the Connector Pads </h3>
    In the next lab, you will solder jumper wires to the connector pads of your printed circuit. However, soldering directly on paper is not a good idea. The paper will burn and destroy the printed silver at the same time.<br><br>
    Thus, we will glue a piece of copper tape over the connector pads. This allows us to solder wires to our printed circuit.<br><br>
    <b>Cut 4 copper tape pieces:</b> The copper tape should fit to the size of the printed connector pads, which are 30mm long. Cut 4 pieces that are 30mm long.<br><br>
    
    <span style="color: red"><b>Important: Get yourself a pair of glooves before you start working on the printed circuit. The silver traces might not be fully dry yet and you could rub off some silver when applying the copper tape on the connector pads</b></span><br><br>
    
    <b>Glue copper tape on connector pads:</b> You can see how your circuit should look like after glue the copper tpe on the pads below:<br><br>
    <img src="images/lab7/glue_copper_pad.jpg" height="250px">
    <img src="images/lab7/copper_pads.jpg" height="250px"><br><br>
    

    <h3 id="displaycircuit">(7) Attach Display to Printed Circuit </h3>
    Now, it's time to attach your sprayed display to the printed circuit.<br><br>
    
    <b>Attach Copper Tape to Circuit for EL Display Connections:</b> Take a roll of copper tape and cut of two 6cm long pieces. Glue one half of each copper stripe on the two wires that lead to your display and bend the other half around such that the adhesive side faces upwards. Make sure that the two copper stripes don't connect to each other and have a save distance of at least 1cm.<br><br>
    
    <img src="images/lab7/copperOpen.png" width="370px">
    <img src="images/lab7/copperClosed.jpg" width="310px"><br><br>

    <b>Attach your Display to Copper Tape:</b> Next, stick your display onto the sticky area of the bend-over copper stripes. Make sure that one copper strip connects only to the ITO and the other copper strip only connects to the sprayed copper layer.<br><br>
    
    <img src="images/lab7/display_sidebyside.jpg" width="700px"><br>
    <img src="images/lab7/display_on_circuit.jpg" width="700px"><br><br>
    
     <b>Test Display Connection:</b> Let's test if the connection between the display and the printed wires is working. Take your battery and inverter circuit and connect it to the two connector pads on the left hand side of the circuit. If you don't remember how to do this, look back at lab 6. Remember: do not touch the display or any part of the circuit while the battery is in use and the inverter is on. You should see that the display lights up.<br><br>

    <span style="color: red">replace image</span><br>
    
    <img src="images/lab7/displayTesting.png" width="400px"><br><br>
    
    <b>Tape Down Edges of Display with Transparent Tape:</b> Once, you verified that everything works, you can tape the display on its edges onto the circuit sheet using some transparent scotch tape.  
    Apply a stripe of tape on the left and the right edge of your display.<br><br>

    <img src="images/lab7/scotchOnOneSide.png" width="350px">
    <img src="images/lab7/scotchOnBothSides.jpg" width="340px"><br><br>
    
    <h3 id="laminate">(8) Laminate your mug interface </h3>
    
    You can imagine that a mug often gets in contact with liquids that could damage your printed circuit. Because of that, we will again laminate everything, similar to what you did with the music card, to protect it from any moisture, coffee, or water. <br><br> 
    
    Before you can laminate it, you have to cut out the mug sensor. The overall size should be close to 170mm x 50mm. Make sure that you cut around the display and that you don't cut off anything of the connector pads.<br><br>
    
    <img src="images/lab7/cutting.jpg" width="700px"><br><br>
    
    <b>Place your Mug Sensor between two Lamination Sheets:</b> The lamination sheets are two sheets glued together on one side. Take one of the sheets and seperate the two layers. Once this is done, place your mug sensor between the two sheets and push it up to the one side that is glued together. Make sure that the connector pads stick out of the lamination sheets by 1cm. We will later solder in these pads. Thus, they should e still exposed and not laminated.<br><br>
    <img src="images/lab7/laminate.jpg" width="700px"><br><br>
    
    <b>Cut Lamination Sheet to Fit Mug Sensor:</b> When you cut the lamination sheet around the mug sensor, make sure that you <span style="color: red">leave a frame of about 1cm width around the mug sensor</span>. When laminating everything, this frame will glue together and encapsulate your mug sensor.<br><br>
    <img src="images/lab7/cutlami.jpg" width="700px"><br><br>
    
    <b>Put your Mug Sensor in the Laminator:</b> Finally, insert the mug sensor into the laminator from the front with the glued together side first. At some point, you will feel, that the laminator pulls it in. Now you just have to wait until the mug sensor comes out on the backside. Congrats, you finished the lab :)
    
    <img src="images/lab7/laminator.jpg" width="700px"><br><br>
    
    
    <br><br>
    
    

<h3>Deliverables</h3>

At the end of the lab, upload to your student google drive:
<ol>
        <li>the Processing code (.pde) to generate the temperature sensor</li>
        <li>the Adobe Illustrator file (.pdf) with the completed circuit design</li>
        <li>1 photo (.jpg or .png) of your inkjet printed temperature sensor</li>
    </ol>
    
    
<br />
        <br />
        <br />
<hr>

        <br />
        <br />
        <br />
      </section>

      
     <aside class="col-md-4 pull-left">
         <br /> <br /> <br /> <br /><br>

                 <h4 class="medium.headline" style="padding-bottom:10px;"><a href="lab-series-interactive-mug.html"><b>Lab Series: Interactive Mug</b></a><br></h4>

<ul>
    <li><a href="lab5-fabricating-el-display.html">Lab 5: Fabricating the Electroluminescent Display</a></li>
    <li><a href="lab6-controlling-el-displays.html">Lab 6: Controlling the Electroluminescent Display</a></li>
    <li><a href="lab7-temperature-sensing-mug-with-display.html">Lab 7: Inkjet Printed Temperature Sensor</a></li>
    <li><a href="lab8-temperature-controlled-display.html">Lab 8: Mug Assembly &  Display Control Using Temperature</a></li>
</ul><br>


<iframe width="173" height="210" src="https://www.youtube.com/embed/E8sfqrH_1Ks" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><br>

In this lab series, you will create an interactive mug. The mug consists of a sprayed electroluminescent display and an inkjet printed temperature sensor. When the user pours in tea or coffee, the mug can sense the temperature of the liquid and when its too hot, blink the display as a warning.<br><br>


<h4 class="medium.headline" style="margin-bottom:0px;">Use our design or make your own</h4><br>

You have the choice to either use our template design files or to make your own design. That means you can either use our display design (coffee cup shape) or make your own display design. Sprayed displays have only about a 50% to work when you are new to spraying as a fabrication technique, thus if you decide to make your own design we recommend you also spray a few of our designs as a backup. If you decide to make your own, please make sure you read a bit ahead what's coming in lab 5/6/7/8. There is also the risk that your own design will have its own bugs that we are less knowledgable about. Below you see a custom display design from a 6.810 team from last year.<br><br>

<iframe width="280" height="158" src="https://www.youtube.com/embed/BtRwNVc96ZE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><br>

</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
      </aside>

    </div>
  </div>
  </div>
</section>

<div class="container">
	<div class="row">
		<div class="col-md-12 footer" style="text-align: center;">
			<span class="copyright">
			Since 2017 &copy; MIT CSAIL (HCI Engineering group) [redesign by
			<a href="http://punpongsanon.info/" target="_blank" style="text-decoration:none; border-bottom:0px">
			moji
			</a>].
			All Rights Reserved.

			<a href="http://mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/mit.svg" alt="MIT" class="footer-logo" />
			</a>
			<a href="http://csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/csail.svg" alt="CSAIL" class="footer-logo"/>
			</a>
			<a href="http://hci.csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/hci.svg" alt="HCI" class="footer-logo"/>
			</a>
			</span>
		</div>
	</div>
</div>

<!-- Bootstrap -->
<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
<!-- header -->
<script type="text/javascript" src="../../js/headerstrap-for-subpage.js"></script>

</body>
</html>
