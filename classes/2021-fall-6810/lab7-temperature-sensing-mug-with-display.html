<!DOCTYPE html>
<html>
<head>
	<title>HCI Engineering Group</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<!-- CSAIL ICON -->
	<link rel="CSAIL" href="../../../images/icon/csail.ico" type="image/x-icon" />

	<!-- Bootstrap -->
	<link href="../../css/bootstrap.css" rel="stylesheet">
	<link href="../../css/custom-style.css" rel="stylesheet">

	<!-- jQuery -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Barlow" rel="stylesheet">

	<!-- Google Analytic -->
	<script type="text/javascript" src="../../js/analytics.js"></script>

	<style>
	.etech-sch-col1 {width:60px; border: 1px solid black;padding:10px;}
	.etech-sch-col2 {width:120px; border: 1px solid black;padding:10px;}
	.etech-sch-col3 {width:450px; border: 1px solid black;padding:10px;}
	.etech-sch-col4 {width:70px; border: 1px solid black;padding:10px;}
  .etech-sch-col5 {width:70px; border: 1px solid black;padding:10px;}
  /*.etech-sch-col6 {width:170px; border: 1px solid black;padding:10px;}*/
  ul {
    padding:0px;padding-left:10px;margin:0px;
  }
	</style>
</head>

<body>
<header class="main_header">
	<!-- to be filled by javascript, see header.html -->
</header>

<section class="main_container">
	<div class="container">
    <div class="row nothing">

      <section class="col-md-8 pull-right main-content">
</br></br></br></br>
        <h4 class="medium.headline"><a href="6810-engineering-interactive-technologies.html">6.810 Engineering Interactive Technologies (fall 2021)</a><br></h4>
        <h2 class="headline">Lab 7: Inkjet Printed Temperature Sensor</h2>

In this lab, we will first create the digital design of an ink-jet printed temperature sensor to sense the heat of the mug when a hot drink is poured in. We will then create the overall circuit design for the mug, which contains the temperature sensor and connector pads for the EL display. Finally, we will print out the circuit design on the inkjet printer. In the next lab, we will then assemble everything into the final mug and write the temperature sensing code.<br><br>   

<span style="color:red">don't forget to bring your EL display</span> <br><br>       
          
 <img src="images/lab6/mugCircuit.PNG" width="550px"><img src="images/labseries-mug/circuitOnMug.jpg" width="194px" /><br>


<h3>Steps:</h3>
<ol>
  <li><a href="#temperaturesensing">Understand Temperature Sensing</a></li>
  <li><a href="#overallresistance">Choose Overall Resistance (R) for Temperature Sensor</a></li>
  <li><a href="#wirethickness">Determine Minimum Wire Thickness (A) for Temperature Sensor</a></li>
  <li><a href="#thermalresistivity">Determine Thermal Resistivity (p) for Inkjet Printed Silver</a></li>
  <li><a href="#wirelength">Determine Wire Length (l) to Achieve 1kOhm Resistance.</a></li>
  <li><a href="#processingscript">Generate Temperature Sensor Using Processing Script</a></li>
  <li><a href="#overallcircuit">Integrate Temperature Sensor and EL Display Circuit</a></li>
  <li><a href="#inkjetprintcircuit">Inkjet Print Circuit</a></li>
</ol>


<h3>Deliverables</h3>

At the end of the lab, upload to your student google drive:
<ol>
        <li>the Processing code (.pde) to generate the temperature sensor</li>
        <li>the Adobe Illustrator file (.pdf) with the completed circuit design</li>
        <li>1 photo (.jpg or .png) of your inkjet printed temperature sensor</li>
    </ol>
    
    
     <h3 id="temperaturesensing">(1) Understand Temperature Sensing</h3>

     You will make your own temperature from scratch using conductive inkjet printing. But why can conductive traces be used to sense temperature?<br><br>

     <b>Thermal Resistivity (Resistance Changes with Temperature):</b> Conductive wires can be used to sense temperature by making use of a material property that most conductive metals share: Their resistance changes with changes in temperature. This property is called <i>thermal resistivity p</i>.<br><br>

     <b>Formula for Computing Overall Resistance based on Thermal Resistivity:</b> The formula for determining the overall resistance of a wire based on thermal resistivity, length of a wire, and thickness of a wire (cross section) is shown in the picture below. As you can see, given a wire with a fixed length l and a fixed cross section A, the higher the thermal resistivity (i.e. the resistance introduced by changes in heat) the higher the overall resistance. (Note that we use wire thickness instead of cross section, we discard height since all wires have the same height)<br><br> 

     <b>Thermal Resistivity for Silver Used in Conductive Inkjet Printing:</b> For silver, the thermal resistivity p increases with increases in temperature. Thus, the higher the temperature, the higher the thermal resistivity and the higher the overall resistance of our wire. Thus, by reading the overall resistance of the wire with our microcontroller, we can determine the mug's temperature.<br><br> 

    <img src="images/lab6/resistance.png" width="400px"><br><br>

    <h3 id="overallresistance">(2) Choose Overall Resistance (R) for Temperature Sensor</h3>

    As you can see in the formula above, the only part that is given is the thermal resistivity (p) for our material silver, which is determined by nature. However, we can freely choose the overall resistance (R), the wire length (l) and the thickness of the wire (A). Let's first determine what overall resistance (R) would be good to use.<br><br> 

    <b>Effect of Overall Resistance (R) on Temperature Sensor Resolution:</b> The higher the overall resistance of the conductive wire, the more sensitive it will be to temperature changes. Consider the following example: If your wire has a small resistance (50Ohm) and the resistance changes a little bit (5%), the change will be very small (5% of 50Ohm = 2.5Ohm). This is difficult to measure since there is always noise in electronics. In contrast, if your wire has a large resistance (1kOhm), the change will be larger (5% of 1,000 Ohm = 50Ohm), which is easier to measure. Thus, a wire with a larger resistance allows you to measure smaller changes in temperature, and thus results in a temperature sensor with a higher sensing resolution. For our temperature sensor, we will use <code>R = 1kOhm</code> at room temperature since that gives us a pretty high sensitivity, but you could also go higher. <span style="color:red">Could we say something here about what ohm differences are realistic to measure? what does 'pretty high sensitvity' mean? 10 values? 100 values? 0.1C or 0.01C measurements?</span><br><br>

    <span style="color:red">perhaps we can add a small todo for students here? i.e. you want to measure XX temperature resolution, what overall resistance should you use?</span><br><br>

    <h3 id="wirethickness">(3) Determine Minimum Wire Thickness (A) for Temperature Sensor</h3>

    Now that we know that our desired overall resistance R is 1kOhm, what values should we use for wire length (l) and the wire thickness (A). As you can see in the formula, the longer the wire (l) and the thinner (A) the wire, the higher the resistance will be. Since longer wires take up more space on our prototype, which we don't want, we should first try to minimize the thickness to increase the resistance.<br><br>

    <b>Thickness of the Wire (A):</b> We ran a few experiments and found that the thinnest trace we can print is <span style="color:red">0.3mm wide</span>. Any thinner than this and the silver does not connect reliably anymore to form a trace. Thus, we will use <code>A = 0.3mm</code> for our temperature sensor.<br><br> 

    <h3 id="thermalresistivity">(4) Determine Thermal Resistivity (p) for Inkjet Printed Silver</h3>

    Next, we need to determine the thermal resistivity (p). Since we want to solve the formula for <code>R = 1kOhm</code> at room temperature, we will determine p at <span style="color:red">23&#8451; (what temperature did you use?).</span>. <span style="color:red">why is it enough to only do this for one p? we will never determine the other p right? they will be implicitly measured in the overall resistance R?</span><br><br> 

    <b>Experimentally Determining Thermal Resistivity (p):</b> To determine (p), we printed a wire of thickness <code>A = 0.3mm</code> and wire length <code>l = 1cm</code>. We measured the overall resistance <code>R</code> at room temperature <span style="color:red">23&#8451;</span> using a multimeter and found the overall resistance <code>R = 7.5 Ohm/cm</code>. <span style="color:red">So how does this tell us the thermal resistivity (p)? Since the wire thickness (A) is constant, you can remove it from the formula. This leaves us with R = p * l.</span> Since we used l = 1cm, we can conclude that R = p. Thus, <code>p = 7.5 Ohm/cm</code> at room temperature <span style="color:red">23&#8451;</span>. <br><br> 

     Note that this can also vary depending on the substrate, the 2D printer, and the silver ink mixture, so if you change any of these you would have to remeasure the resistance.<br><br> 


    <h3 id="wirelength">(5) Determine Wire Length (l) to Achieve 1kOhm Resistance</h3>

    Finally, we can determine the wire length (l) based on all the other values.<br><br>

    <b>Wire length (l) for 1kOhm:</b> Using the formula below, how long does your wire have to be to achieve a 1kOhm resistance? You will need to know your wire length when you design the inkjet printed wire in the next step.<br><br> 
    
    <pre>Overall Resistance (R) = wire length (l) * thermal resisvity (p(20C)) = l * 7.5 Ohm/cm</pre><br>

    <h3 id="processingscript">(6) Generate Temperature Sensor Using Processing Script</h3>

    Now that you know how long the wire has to be, the next question that arises is how to best shape it to take up minimal space on our mug?<br><br>

    <b>Horse Shoe Pattern:</b> A classic method to create a long wire on a small area is to design it in a horse shoe pattern, which looks like this:<br><br>

    <span style="color:red">can we update the image below to show the measurements, i.e. what we mean with 'width of temperature sensor' and 'vertical space 0.5mm' etc.</span><br><br>
    
    <img src="images/lab6/hsp.png" width="700px"><br><br>
       
    <b>Write Processing Script to Generate Line Layout:</b> Since drawing a horse shoe pattern manually is quite the pain, let's leverage our computational design capabilities in Processing. Write a Processing Script that generates a temperature sensor layout of variable length depending on a desired overall resistance. Reuse your code from pset1 to write this script. <br><br>

    <i>Create User Input Fields:</i> First, create three user input fields, one for <span style="color:red">line thickness l (default: 0.3mm) (do we need this?)</span>, one for overall resistance R, and one for overall width of temperature sensor (default: 7cm). <br><br>

     <i>Generate Horse Shoe Pattern:</i> Generate a set of horizontal lines of the given thickness and connect them with vertical lines on alternating sides. The distance between each horizontal trace should be 0.5mm.<br><br>

     <i>Export Temperature Sensor as PDF:</i> Output a .pdf that contains the temperature sensor ready for inkjet printing. <span style="color:red">What width should they use for the exported file?</span><br><br>

     <b>Check Temperature Sensor in Illustrator:</b> Open your temperature sensor pdf in Adobe Illustrator and measure to confirm that: <span style="color:red">anything else? what about total height?</span>

      <ol>
        <li>Wire thickness = 0.3mm</li>
        <li>Spacing between thermal traces = 0.5mm</li>
        <li>Width of temperature sensor = 7cm</li>
    </ol>
  
    <h3 id="overallcircuit">(7) Integrate Temperature Sensor and EL Display Circuit</h3>

    Now that you have the temperature sensor, it's time to extend the circuit to also include the EL display, whose brightness we want to control based on temperature changes. Below, you see an image of the mug for reference and the overall circuit layout that fits onto the mug, which has all the elements you need for the circuit. <br><br>

    <span style="color:red">please update the image on the right with all the measurements so students don't have to go back to the text. also add a placeholder for the copper strip and copper flap.</span><br>
    <img src="images/lab6/mug.png" width="180px"> 
    <img src="images/lab6/mugCircuit.PNG" width="550px"><br><br>

    <b>Download Overall Circuit File:</b> <span style="color:red">Download the overall circuit file from here.</span> It contains a rectangle that shows you how much space you have on the mug (width: 17cm, height: 7.5cm) but otherwise doesn't contain anything.<br><br> 

    <b>Add Temperature Sensor to Circuit:</b> Open your temperature sensor pdf in Adobe Illustrator. Copy the temperature sensor into your overall circuit file. The imported temperature sensor should be placed near the mug's handle as shown below.<br><br>

    <b>Add two Connector Pads to Temperature Sensor:</b> Draw two connector pads (each size: 3cm x 1cm) and connect them with two wires (thickness: 1mm) to the temperature sensor start and end of the horse shoe pattern. We will later connect our microcontroller to those connector pads.<br><br>

    <b>Draw a placeholder for your EL display:</b> Measure the size of your EL display and draw a placeholder rectangle in your overall circuit design. The sprayed EL display should be placed on the opposite side of the handle as shown in the image below. There should be a <span style="color:red">1cm gap between the temperature sensor and the edge of your EL display to ensure they do not touch each other</span>.<br><br> 

    <b>Draw a placeholder for copper flaps:</b> Also draw two placeholders for the copper connectors on your EL display. One connector is the copper flap that we attached to the copper sprayed area, the other connector is the copper tape at the bottom of the display. Draw their position accurately into your circuit drawing.<br><br> 

    <b>Draw two Connector Pads to EL Display:</b> Next, draw an additional two connector pads (each size: 3cm x 1cm) and connect them with two wires (thickness: 2mm) to the EL display copper flap/stripe. There should be at least a distance of 3cm between the wires at the location where they connect to the EL display to avoid short circuits. The position of the wire is essential, if it is placed too high or too low it will not make a connection to your EL display.<br><br>

    Once you are done, double check one more time: <span style="color:red">anything else?</span>
    <ol>
        <li>The spacing between your display-connected traces matches the distance between the two pieces of copper on YOUR display.</li>
        <li>The height of your circuit (i.e., the bounding rectangle) is of maximum height <span style="color:red">3in (let's use mm or cm)</span></li>
        <li>The temperature sensor does not overlap with the display, there is a gap of at least 1cm between them.</li>
</ol><br>


    <h3 id="inkjetprintcircuit">(8) Inkjet Print Circuit</h3>

    Once you are done with your circuit design, please put it in <span style="color:red">your google drive</span> and <span style="color:red">let us know on slack</span> that you are ready for inkjet printing.<br><br>

    <b>Inkjet Print Circuit:</b> Once we confirmed that everything looks good, go ahead and inkjet print your circuit on <span style="color:red">white inkjet paper sheets</span>.<br><br>

    <b>Check Resistance of your Temperature Sensor:</b> Once your print is done, check if the temperature sensor has the correct resistance of 1kOhm. Use a multimeter and hold its two electrodes on the two corresponding connector pads, you should read a value close to 1 kOhm.<br><br>

    <img src="images/lab7/testingTemperature2.jpg" width="300px"><br><br>


<h3>Deliverables</h3>

At the end of the lab, upload to your student google drive:
<ol>
        <li>the Processing code (.pde) to generate the temperature sensor</li>
        <li>the Adobe Illustrator file (.pdf) with the completed circuit design</li>
        <li>1 photo (.jpg or .png) of your inkjet printed temperature sensor</li>
    </ol>
    
    
<br />
        <br />
        <br />
<hr>

        <br />
        <br />
        <br />
      </section>

      
     <aside class="col-md-4 pull-left">
         <br /> <br /> <br /> <br /><br>

                 <h4 class="medium.headline" style="padding-bottom:10px;"><a href="lab-series-interactive-mug.html"><b>Lab Series: Interactive Mug</b></a><br></h4>

<ul>
    <li><a href="lab5-fabricating-el-display.html">Lab 5: Fabricating the Electroluminescent Display</a></li>
    <li><a href="lab6-controlling-el-displays.html">Lab 6: Controlling the Electroluminescent Display</a></li>
    <li><a href="lab7-temperature-sensing-mug-with-display.html">Lab 7: Inkjet Printed Temperature Sensor</a></li>
    <li><a href="lab8-temperature-controlled-display.html">Lab 8: Mug Assembly &  Display Control Using Temperature</a></li>
</ul><br>


<iframe width="173" height="210" src="https://www.youtube.com/embed/E8sfqrH_1Ks" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><br>

In this lab series, you will create an interactive mug. The mug consists of a sprayed electroluminescent display and an inkjet printed temperature sensor. When the user pours in tea or coffee, the mug can sense the temperature of the liquid and when its too hot, blink the display as a warning.<br><br>


<h4 class="medium.headline" style="margin-bottom:0px;">Use our design or make your own</h4><br>

You have the choice to either use our template design files or to make your own design. That means you can either use our display design (coffee cup shape) or make your own display design. Sprayed displays have only about a 50% to work when you are new to spraying as a fabrication technique, thus if you decide to make your own design we recommend you also spray a few of our designs as a backup. If you decide to make your own, please make sure you read a bit ahead what's coming in lab 5/6/7/8. There is also the risk that your own design will have its own bugs that we are less knowledgable about. Below you see a custom display design from a 6.810 team from last year.<br><br>

<iframe width="280" height="158" src="https://www.youtube.com/embed/BtRwNVc96ZE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><br>

</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
      </aside>

    </div>
  </div>
  </div>
</section>

<div class="container">
	<div class="row">
		<div class="col-md-12 footer" style="text-align: center;">
			<span class="copyright">
			Since 2017 &copy; MIT CSAIL (HCI Engineering group) [redesign by
			<a href="http://punpongsanon.info/" target="_blank" style="text-decoration:none; border-bottom:0px">
			moji
			</a>].
			All Rights Reserved.

			<a href="http://mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/mit.svg" alt="MIT" class="footer-logo" />
			</a>
			<a href="http://csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/csail.svg" alt="CSAIL" class="footer-logo"/>
			</a>
			<a href="http://hci.csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/hci.svg" alt="HCI" class="footer-logo"/>
			</a>
			</span>
		</div>
	</div>
</div>

<!-- Bootstrap -->
<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
<!-- header -->
<script type="text/javascript" src="../../js/headerstrap-for-subpage.js"></script>

</body>
</html>
