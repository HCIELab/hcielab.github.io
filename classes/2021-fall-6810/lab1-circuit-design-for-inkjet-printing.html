<!DOCTYPE html>
<html>
<head>
	<title>HCI Engineering Group</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<!-- CSAIL ICON -->
	<link rel="CSAIL" href="../../../images/icon/csail.ico" type="image/x-icon" />

	<!-- Bootstrap -->
	<link href="../../css/bootstrap.css" rel="stylesheet">
	<link href="../../css/custom-style.css" rel="stylesheet">

	<!-- jQuery -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Barlow" rel="stylesheet">

	<!-- Google Analytic -->
	<script type="text/javascript" src="../../js/analytics.js"></script>

	<style>
	.etech-sch-col1 {width:60px; border: 1px solid black;padding:10px;}
	.etech-sch-col2 {width:120px; border: 1px solid black;padding:10px;}
	.etech-sch-col3 {width:450px; border: 1px solid black;padding:10px;}
	.etech-sch-col4 {width:70px; border: 1px solid black;padding:10px;}
  .etech-sch-col5 {width:70px; border: 1px solid black;padding:10px;}
  /*.etech-sch-col6 {width:170px; border: 1px solid black;padding:10px;}*/
  ul {
    padding:0px;padding-left:10px;margin:0px;
  }
	</style>
</head>

<body>
<header class="main_header">
	<!-- to be filled by javascript, see header.html -->
</header>

<section class="main_container">
	<div class="container">
    <div class="row nothing">

      <section class="col-md-8 pull-right main-content">
</br></br></br></br>
        <h4 class="medium.headline"><a href="6810-engineering-interactive-technologies.html">6.810 Engineering Interactive Technologies (fall 2021)</a><br></h>
        <h2 class="headline">Lab1: Circuit Drawings and Conductive Inkjet Printing</h2>

In this lab, you will first create the circuit drawing for your music card and then print out the circuit using conductive inkjet printing.<br><br>

<img src="images/lab1/lab1-assembled_new.jpg" width="357px" />
<img src="images/lab1/lab1-assembled2_new.jpg" width="374px" /><br>

<h3>Steps:</h3>
<ol>
	<li>Circuit Design: Create a 2D drawing that contains the touch buttons, slider segments, and wires.</li>
	<li>Conductive Silver Inkjet Printing: Print your design with conductive inkjet printing.</li>
</ol>

<h3>Deliverables:</h3>

At the end of the lab, upload to your student google drive:
<ul>
	<li>the circuit drawing (.pdf file format) you used for conductive inkjet printing</li>
	<li>two photos showing the front and back of your inkjet printed card</li>
</ul><br>

<hr>

<!-- <h2 class="headline">(1) Circuit Design</h2> -->

<h3>(1) Install Drawing Program and Download Visual Design File</h3>

<b>Download and Install Drawing Program:</b> We recommend to use <a href="https://ist.mit.edu/adobe/cc">Adobe Illustrator, as all MIT students have access to free Adobe Creative Cloud here</a>. All our instructions will be based on Adobe Illustrator. If you use a different drawing program, that's fine but we may be less knowledgable on how to use it and may not be able to help you as much.<br><br>

<b>Download and Open Visual Design File:</b> To get started, <a href="images/lab1/lab1-music-card-final-size.pdf">download the visual design file for our music card here and open it in your drawing program.</a><br><br>

<b>Adjust the Document Settings:</b> Once you opened the design file, adjust the document settings in the following way:<br>

<ul><li><i>Set Document Color Mode to CMYK:</i> Since we will print our document later, please set the document color mode to CMYK (not RGB, which is for on-screen documents). <span style="color:red">please include explanation how to do this in Illustrator</span></li>

<li><i>Set Units to mm:</i> If your drawing is still set to 'pts' as a measurement unit, set it to mm or inch. <span style="color:red">please include explanation how to do this in Illustrator</span></li></ul>

<h3>(2) Add Touch Buttons</h3>

For our interactive card, we want to add three touch buttons, one on each note (we will later use them to go to the next/previous song and pause/play the song). Touch-buttons consist of one shape + one wire. One end of the wire connects to the touch button shape and the other end connects to a connector pad, which will in turn connect to the microcontroller.<br><br>

<img src="images/lab1/lab1-design-planning_new.png" width="350px" />
<img src="images/lab1/lab1-single-touch-button_new.png" width="350px"><br><br>

<b>Create a New Layer:</b> Start by creating a new layer in your design file for the circuit design <span style="color:red">please include how students can make a new layer</span>. You need to create the circuit design on a separate layer than the visual design because later you need to export two files separately, the visual design in one pdf and the circuit design in a separate pdf. Using a separate layer for each allows you to turn each part of the design on/off quickly for export.<br><br>

<b>Draw the Touch Button Shape:</b> Once you created your circuit design layer, draw the first touch button shape on it. A touch button should be large enough for a user's finger. The size of a finger tip is roughly an area of 2cm x 2cm. In the design we gave you, the size of each note body is roughly the size of a finger pad, so as long as you make a shape the size of the note it should be fine. <span style="color:red">please include how students can make a touch button shape</span><br><br>

<b>Draw the Wire:</b> Next, draw a wire from the touch button to the edge of the card (we recommend you route all your wires to the right edge of the card). We typically draw 'rectangles' for the wires rather than 'lines' since a rectangle allows us to see its 'width' in the shape properties. Your wire should be 1mm thick. The thickness of the wire determines its conductivity (larger cross-section == higher conductivity). With 1mm we are on the safe side given the conductive ink we use and its resistance.<br><br>

<b>Draw the Connector Pad:</b> One end of your wire connects to your touch button, the other end of your wire will connect to a connector pad which we will later use to connect to the ESP microcontroller. The connector pad for the microcontroller needs to be large enough to connect to a crocodile clamp. Therefore, the connector pad should be 1cm x 1cm to be on the safe side. Make sure your connector pads are close enough to the border so that a crocodile clamp can reach it (recommended to have lesser than 5mm distance from the border).<br><br>

<b>Adjust Color of Lines/Shapes:</b> Finally, make sure your touch button, wire, and connector pad all have the correct color assigned. The color for your circuit design should be set to full <span style="color:red">CMYK (255,255,255,255)</span> since the specific printer we use has a  <span style="color:red">CMYK cartridge</span>, which we filled with silver ink. By setting all <span style="color:red">four channels to the maximum, we will maximize the amount of silver that will be deposited, which ensures our circuit will have maximum conductivity.</span><br><br>

Repeat all steps for the other two touch buttons.<br><br>

<img src="images/lab1/lab1-crocodiles.png" width="700px"><br><br>

<h3>(3) Add Touch Slider</h3>

In addition, the piano area should serve as a volume slider, i.e. if we drag our finger from left to right, the volume of the music that is playing will increase.<br><br>

<b>Discrete vs. Continous Sliders:</b>  Touch-sliders consist of multiple touch buttons linearly arranged, i.e. several segments and each segment has its own wire and connector pad that connect to the micro-controller. In the discrete slider design, the finger tends to be only over one of the slider segments. In the continous design, the finger tends to touch two adjacent slider segments. By knowing how much the finger touches each slider segment, we can extrapolate a continous transitions between the segments. We will create a continuous slider, i.e. the segments overlap.<br><br>

<img src="images/lab1/slider-designs1.png" width="300px"><br><br>


<b>Slider Resolution:</b> The slider resolution depends on the number of slider segments. More slider segments allow for higher resolution but since each slider segment needs its own wire, connector pad, and pin on the microcontroller it can quickly add up. For our purposes, we will create 5 slider segments.<br><br>

<b>Draw the Slider Segments:</b> Let's draw the slider segments, as well as their wires and connector pads. Below you see an image that already has two slider segments marked up, you need to divide the remaining 'piano' area to form another three slider segments and connect them via wires to additional connector pads. <span style="color:red">please include how students can make a slider segment shape.</span> When you draw your slider segments, pay close attention that each slider segment overlaps with each other, i.e. you can see how the front of the first segment reaches deep into the second segment to maximize overlap (see image down below). For the wires and connector pads for each slider segment, follow the same specification as before, i.e. use 1mm for wire thickness and 1cm x 1cm for connector pad size.<br><br>

<img src="images/lab1/lab1-slider-segments_new.png" width="350px">
<img src="images/lab1/lab1-slider-overlap-labeled.png" width="360px"><br><br>

<h3>(4) Verify your Design</h3>

Before printing out your design, let's double check that everything is correct. Below are some of the most common issues we have seen last year:<br><br>

<b>Drawing in ppt not mm:</b> Make sure your drawing is in mm not ppt. You can check this if you go to <span style="color:red">Document -> ... </span> or click on any shape and open the <span style="color:red">Property Window (?)</span>.<br><br>

<b>Visual Design & Circuit Design Not Centered on Page:</b> Make sure your circuit drawing is centered on the page. If it is not centered and you print it out, your visual design and your circuit design will not overlap, i.e. your touch button will not be underneath the note. Do check if your circuit drawing is centered, click <span style="color:red">how to do this in Illustrator</span>..<br><br>

<img src="images/lab1/common-design-issues-document.jpg" width="500px"><br><br>

<b>Gaps along wires:</b> Zoom into your drawing and make sure all your wires are connected, sometimes there are tiny gaps that you don't see in zoomed out mode. If you have a gap, your wire will not work. Check: (1) is each wire connected to its corresponding touch buttons/slider segments? (2) is each wire connected to its connector pad? (3) if your wire consists of multiple individual drawn rectangles, are they all connected to each other?<br><br>

<b>Wires routed too close to Touch buttons/Slider Segments:</b> Make sure you leave sufficient space between the wires and the touch buttons and slider segments. If they are too close to each other, there can be <span style="color:red">capacitive coupling</span>, i.e. touching one button can create a signal on a close-by wire of another button, which then also detects that it was touched.<br><br>

<b>Connector Pads to close to Touch Button:</b> There should be at least 1cm distance between a connector pad and the corresponding touch button. If your connector pad is too close to the touch button, <span style="color:red">remind me why that is a problem?</span><br><br>

<img src="images/lab1/common-design-issues-gaps.jpg" width="700px"><br><br>

<b>Slider Segments not overlapping enough:</b> Finally, your slider segments should be overlapping quite a bit. If they don't overlap enough, your finger will only touch one of them, which will not result in a continous slider signal. <span style="color:red">what is the recommended overlap? can we be more specific?</span>.<br><br>

<b>Slider Segments too close to each other:</b> Make sure there is sufficient space between each slider segment. If they are too close, you will also have problems with capacitive coupling, i.e. touching one slider segment will automatically activate the other as well. <span style="color:red">what is the recommended gap?</span>..<br><br>

<img src="images/lab1/common-design-issues-slider.jpg" width="500px"><br><br>

<b>Every Shape's Color:</b> Double check that every single one of your circuit lines and shapes is set to black by maxing out <span style="color:red">CMYK, i.e. CMYK = 100%.</span><br><br>

<img src="images/lab1/lab1-cmyk-setting.png" width="250px"><br><br>

<h3>(5) Export your Design</h3>

Now that you have verified your design, you are ready to export and print it. Since for capacitive touch sensing, the user should never touch the silver directly, we will print the circuit design on one side of a piece of paper and the visual design on the other side.<br><br>

<b>Mirror the Circuit Layer:</b> In order to accommodate the double-side printing, we will need to mirror the circuit design, otherwise if we flip the sheet for printing the touch buttons and the notes will not align. We don't want to mirror the visual design for obvious reasons, i.e. it would look very odd to the user if the notes where flipped. To flip the circuit design in Adobe Illustrator, first select all objects in the circuit design layer, then go to <b> Object --> Transform --> Reflect... </b>, and select <b> Vertical</b>. Note that the vertical position of your design on the sheet doesn't matter.<br><br>

<img src="images/lab1/lab1-mirror-circuit-design2.png" width="720px" /><br><br>
<img src="images/lab1/lab1-before-after-mirror-ing2.png" width="720px" /><br><br>

<b>Export .pdf files:</b> Save your design as two separate .pdf files, one for the visual design and one for the circuit design. To export the visual design, turn the circuit layer off <span style="color:red">using the 'eye' icon in front of the layer</span> and then go to <span style="color:red">Document -> Export as.... </span>. Repeat the process for exporting the circuit design layer. Finally, also save the combined design as a third pdf for the teaching team to help you with debugging if needed.<br><br>

<b>Upload .pdf's to Google Drive:</b> Once you have your three .pdfs, add them to your student google drive folder. Please name them: combined-visual-circuit.pdf with both layers, visual-design.pdf with only the visual design, and circuit-design.pdf with only the circuit design. Let us know on slack that you are ready to have your design checked by us.<br><br>

<img src="images/lab1/music-card-design_new.png" width="317px" />
<img src="images/lab1/lab1-exporting-design-circuit_new.png" width="317px" /><br><br>

<h3>(6) Print the Circuit</h3>

For printing our circuit, we use silver ink from <a href="http://www.mitsubishiimaging.com/digital-imaging-diamond-jet-NANOINK.html">Mitsubishi</a> and a special paper. While in the printer, the silver ink is not yet conductive since it is not yet sintered. The special paper on which we print the silver ink has a coating, that chemically sinters the silver ink once it adheres to the sheet. For today, we are using the <a href="https://www.amazon.com/Kodak-8209017-KOD8209017-Photo-Paper/dp/B000EZ0CTU"> Kodak glossy photo paper</a> (white), which has this special coating.<br><br>

<b>Install Printer Driver for Silver Inkjet printer:</b> To make it easier for you to print in the future, we want you to print from your own laptop. Install the <a href="https://epson.com/Support/Printers/All-In-Ones/ET-Series/Epson-ET-2760/s/SPT_C11CG22203"printer driver for the >Epson EcoTank ET-2760 from here.</a><br><br>

<b>Connect to Circuit Printer + Open Design File:</b> Let's start with printing the circuit design. Plug in the Epson printer and open your Circuit Design File.<br><br>

<b>Insert Paper:</b> Next, insert the paper. The paper has two sides, a glossy (shining) side and a non-glossy (matte) side. The glossy side should be facing up.<br><br>

<img src="images/lab1/lab1-insert-paper_new.jpg" width="337px" />
<img src="images/lab1/lab1-insert-paper-test_new.jpg" width="337px" /><br><br>

<b>Set Printer Settings:</b> Go to print, and from the 'Printer' dropdown select the <span style="color:red">'Canon TR150 series'.</span> Next, click 'setup' (bottom left corner), then 'continue'. Go to 'Quality and Media' in the dropdown, then select 'Media Type' and 'Photo Paper Plus Glossy II'. Then go to 'Print Quality' and drag the quality to the right most 'Best' setting. Now you are ready to hit the print button.<br>

<img src="images/lab1/lab1-printer_new.png" width="387px" /><img src="images/lab1/settings2_new.png" width="347px" /><br>

<img src="images/lab1/settings3_new.png" width="357px" />
<img src="images/lab1/settings4_new.png" width="347px" /> <br><br>
<!-- <img src="images/lab1/settings5.png" width="517px" /><br><br> -->

<!-- Don't forget to click the checkbox for 'Grayscale' Printing, since we want to use the 'K' cartridge, which has the silver loaded.<br><br>

<img src="images/lab1/settings6.png" width="517px" /><br><br> -->

<b>Use Gloves to Handle Printed Circuit:</b> Right after printing, the silver ink has not yet been fully cured, this takes a few hours. Therefore, you need to handle the printed circuit carefully as you could accidentially scrape off some silver with your fingers, especially if you have sweaty hands. Therefore, we ask you to handle the newly printed silver circuits with gloves on (we will give you some). We will also provide you with <span style="color:red">one ZipLoc bag</span> to put your printed silver circuit in so that it is protected during transportation. <br><br>

<span style="color:red">Image with gloves missing</span><br>

<img src="images/lab1/lab1-print1_new.jpg" width="337px" />
<!-- <img src="images/lab1-print2.jpg" width="337px" /> -->
<img src="images/lab1/lab1-print3_new.jpg" width="337px" /><br><br>

<b>Why Check if your Print is Conductive?</b> Before you print the color layer, let's first check if the silver layer is conductive or if anything went wrong during the print. Sometimes print nozzles clog and then some silver particles cannot exit through the nozzle, which leaves small gaps in your printed area, which reduces conductivity. The print is successful, i.e. highly conductive and resistance low, if silver was deposited over the entire area. The print was unsucessful if there are many tiny gaps, i.e. conductance will be low and resistance high. To check the resistance, we can use a Digital multimeter (DMM).<br><br>

<b>Using a Multi-Meter to Check Resistance:</b> Set the multimeter to 'Continuity' mode. It may vary among DMMs, but look for a diode symbol with propagation waves around it (like sound coming from a speaker). Let's first check if the multimeter works at all. For this, touch the two probes together. The multimeter should emit a tone. This shows that a very small amount of current is flowing without resistance (or at least a very very small resistance) between probes, which is what we want. Next, hold the two measurement points at the beginning and end of a wire on your card to measure the resistance along the trace. Be careful with the probes since they are pointy and they may scratch off some silver. You should have a resistance range of tens of ohms to a couple hundred ohms for your print. If you see a 'OL' message in the display, your trace is broken and the resistance was so high it couldn't be displayed because it was out of range. If that happens to you, let us know and we will print your design again.<br><br>

<img src="images/lab1/lab1-multimeter1_new.jpg" width="350px"> <img src="images/lab1/lab1-multimeter3_new.jpg" width="350px"><br><br>  


<!-- Here we have a fantastically low resistance of 13ohm with a beep sound. <br> -->

<h3>(7) Print the Visual Design</h3>

<b>Install Printer Driver for Color Inkjet printer:</b> Similarly, let's install the driver for printer that we will use for color printing. You can find the <a href="https://www.usa.canon.com/internet/portal/us/home/support/details/printers/mobile-compact-printer/pixma-tr150">driver for the Canon PIXMA TR150 Printer here</a>.<br><br>

<b>Connect to Printer + Open Design File:</b> Plug in the Canon printer and open your Visual Design pdf File.<br><br>

<b>Flip Paper and Insert into Color Printer:</b> We will print the music card design on the back side of the printed silver circuit. Make sure that you flip the photo paper with correct rotation so that the music card visual design and the circuit design matches up (see photos below). 

To set the print settings, repeat the steps from above. <br><br>

<img src="images/lab1/lab1-color-print-1.jpg" width="357px" />
<img src="images/lab1/lab1-color-print-2.jpg" width="357px" /><br><br>
<img src="images/lab1/lab1-color-print-3.jpg" width="357px" />
<img src="images/lab1/lab1-color-print-4.jpg" width="357px" /><br><br>
<!--  (i.e choose <span style="color:red">glossy paper</span>, high quality print .etc) but do <b style="color:red">not</b> hit the 'grayscale' checkbox since we want to print in color for higher visual quality. <br><br>
 -->
Once you have the visual design printed on the back side it should look like this. <br><br>

<img src="images/lab1/lab1-assembled_new.jpg" width="357px" />
<img src="images/lab1/lab1-assembled2_new.jpg" width="374px" /><br><br>

<h3>(8) Laminate your Circuit Design</h3>

<span style="color:red">please add instructions and images for lamination</span><br><br>


<h2 class="headline">Deliverables Lab 1 (due Friday, Sept. 11, 2020, 11.59pm)</h2>

Upload to your student google drive:
<ul>
	<li>the circuit drawing (.pdf file format) you used for conductive inkjet printing</li>
	<li>the Arduino code you wrote for Serial Communication (.ino file format)</li>
</ul>




<!-- Theoretically, we can use a single printer to print both the circuit design and the visual design since most printers have two cartridges.<br>
For instance, our Canon PIXMA TR150 Printer has both a 'CMYK' cartridge for printing color documents and an extra 'K' cartridge for printing only black.<br> 
So in theory, you could use the 'CMYK' cartridge for printing the visual design and the 'K' cartridge for printing silver.<br><br> -->

<!-- However, printing with the silver ink we use requires a special photo paper that chemically sinters the silver ink when it is deposited on the paper. This special photo paper requires printing with a 'high quality photo' settings, which in the Canon PIXMA driver automatically selects the CMYK cartridge since photos are typically are full color. Thus, we can't use the 'K' cartridge for silver but need to empty out the CMYK cartridge and put silver in this one.<br> Since we now only have the 'K' cartridge left for normal printing, we can't print color anymore. Thus, we use a second printer to print the color.<br> 
 -->

<!-- <img src="images/lab1/lab1-printing-explained_new.png" width="350px" />
<img src="images/lab1/lab1-silver-inkjet-printer-cartridge_new.jpg" width="350px" /><br><br> -->

<!-- For our class, however, we are using two 2D inkjet printers, one for the circuit printing and one for the visual design.<br>
The reason for this is that the printer drivers of our inkjet printers do not support printing 'with only the K cartridge' for high-quality photo printing (e.g. when printing with photo papers), they will always use the CMY cartridge as well for part of the print to achieve a "richer" black, even if you set the print to be "black and white only".<br>
Therefore, we use two printers: In one printer, we use the CMY cartridge as original intended for color printing. In the other printer, we empty the CMY cartridge and replace it with silver ink. The "K" (Black) cartridge remains in its original form, i.e. contains black ink. <br><br>  -->

<!-- <img src="images/lab1/lab1-printing-explained_new2.png" width="750px" /><br><br> -->

<!-- <h4>Buying Materials and Preparing the Printer</h4><br>

While we have already done this for you, we provide you here with the details in case you want to try this yourself in the future:<br><br>

<b>2D Printer:</b> For the class, we are using the <a href="https://www.amazon.com/Canon-TR150-Wireless-Airprint-Compatible/dp/B085VMW9YD">Canon PIXMA TR150 Printer</a> for the silver inkjet printing, and the <a href="https://www.officedepot.com/a/products/5969402/Epson-Expression-ET-2760-EcoTank-Wireless/?cm_mmc=Affiliates-_-CJ-_-1634220-_-11553109">Epson EcoTank ET-2760 All-in-One Supertank Printer</a> for normal color printing. Both printers work for silver inkjet printing (other 2D printers may work as well but it depends on their nozzle diameter and print head type, i.e. the silver may clogg them if they are too small. Also note that the print head should be a piezoelectric print head.<br><br>
 -->

<!-- <b>Syringe:</b> To fill the silver into the cartridge, you need a syringe. We bought syringes from <a href="https://www.amazon.com/5ml-Oral-Syringes-Individually-Administration/dp/B07GX34NBV/ref=pd_bxgy_img_3/131-4743964-2993361?_encoding=UTF8&pd_rd_i=B07GX34NBV&pd_rd_r=7f8c8270-6e29-404c-8aba-640c11b3923e&pd_rd_w=XPpPv&pd_rd_wg=85mK1&pf_rd_p=ce6c479b-ef53-49a6-845b-bbbf35c28dd3&pf_rd_r=X526NNSME57D10CNY14E&psc=1&refRID=X526NNSME57D10CNY14E">here</a><br><br>
 -->
 <!-- <span style="color:red">from here (add link)</span> -->

<!-- <b>Drying out:</b> Note that if the silver is too long in the cartridge, it will eventually dry out and not print anymore.<br><br>
 -->
<!-- <h4>Printing your Design in Two Passes</h4><br>

As mentioned before, we will be printing the design files on <b>2 sides of the same photo paper sheet</b>.<br><br>
 --><!-- 
<span style="color:red">update this part based on using two different printers</span>
While we can use the same printer for both visual and circuit design, we cannot print color (CMY) and silver (K) at the same time (same pass).<br>
The reason is that in order to 'force' the printer to use the 'K' cartridge, we need to select 'grayscale' in the printer driver and that naturally doesn't allow for color.<br> On the contrary, in order to 'force' the printer to use the 'CMY' cartridge, we select 'full color' printing (this does not use the 'K' cartridge).<br><br> 

Since we can only select either grayscale or color printing, we need to do two seperate passes, i.e. we first print the circuit in silver, take the paper out, reinsert, and then print the color for the visual design.<br><br> -->

<!-- <span style="color:red">clean up later:</span><br>
We can later sense the user's touch using a principle called <b>capacitive touch sensing</b>, which as discussed in lecture requires only one electrode (i.e. the touch button) and the other electrode is your finger.<br> Below is the image from lecture as a reminder of how this works.<br><br>

<img src="images/lab1/lab1-touch-example-lecture.png" width="600px"><br><br>

 -->

<!-- <span style="color:red">we still have to change the signal to plot not as a string "1" but as an integer 1, we can do this at the start of the next lab.</span> -->

<!--
<h2 class="headline">Laser Cutting the Mask Layer for your EL Display</h2>

Next, design the mask layer for your EL display.<br>
You could cut it out with scissor, a cutting plotter, or a laser cutter.<br>
For today, we will use a laser cutter.<br><br>

To make a file for laser cutting, you need to stick to a few specifications.<br>
The document you will create your mask layer in has to be RGB mode.<br>
The line color has to be pure red (R=255, G=0, B=0).<br>
The line thickness needs to be 0.0001mm or less.<br><br>

<img src="images/lab1/exercise-drawing.png" width="217px" /><br><br>

Once you create the mask layer, send us the file. <br>
We will then help you to log in remotely into our laser cutter computer to cut the file under our guidance.<br>
You will then receive it with your next package.<br><br>

<img src="images/lab1/laser-cutter.png" width="317px" />
<img src="images/lab1/laser-cutter-cutting.png" width="317px" /><br><br>

-->




<!--Follow these instructions to add the ESP32 library to the ARDUINO IDE: <a href="https://randomnerdtutorials.com/installing-the-esp32-board-in-arduino-ide-windows-instructions/">https://randomnerdtutorials.com/installing-the-esp32-board-in-arduino-ide-windows-instructions/</a><br><br> -->

<!-- 
<b>Continous Sliders (Different Aesthetic Design Options):</b><br>
<img src="images/lab1/slider-designs3.png" width="300px"> <img src="images/lab1/slider-designs2.png" width="300px"><br>
From the paper <a href="https://dl.acm.org/doi/10.1145/2971763.2971777">DuoSkin (ISWC 2016)</a><br><br>


<h4>Dials (aka multiple touch buttons circularly arranged)</h4><br>

Touch-dials consist of multiple touch buttons circularly arranged, i.e. several shapes and each shape has its own wire that connects to the micro-controller.<br><br>

<img src="images/lab1/dial.png" width="300px"><br>
Example from the paper <a href="https://dl.acm.org/doi/10.1145/2971763.2971777">DuoSkin (ISWC 2016)</a><br><br>

<h4>Electroluminescent Area Display</h4><br>

In your package next week, you will also received a printed display.<br>
This display is called electroluminescent display and we screen printed it from four different materials printed into four layers.<br>
<br>

<b>Making Custom Shaped Displays:</b> The display you will get is a simple area display that can turn on/off but does not have pixels. Note that although we will send you a square display, you can create your own shape either in non-destructive way (allows for reuse) or destructive way. The non-destructive way requires you to mask the display, i.e. cutting a shape from e.g. from cardboard and attaching it to the display to cover the remaining area so that no light comes through. The destructive way includes cutting out the shape (making sure you are not cutting into the wire connection to the microcontroller and also make sure you unplugged the display before cutting since most scissors are conductive on their blades). Since we want you to reuse the display some time, we will use the non-destructive way, i.e. we will laser cut a mask layer in a moment.<br><br>

<img src="images/lab1/printscreen2.jpg" width="145px">
<img src="images/lab1/printscreen3.jpg" width="345px"><br>
Examples of masked and cut EL displays.<br><br>

Please limit the size of the touch button to something that is roughly the size of a finger tip (an area around 2cm x 2cm) and the wire length to no more than 10cm for now. The display that you will get shipped is 5x5cm in area and you can cut it into any shape you like (not cutting into the wires).<br><br>

 -->

<!-- <h2 class="headline">Making your touch interface designs</h2><br>
    
Open your drawing program and set the document color mode to CMYK.</br>
Draw a design that has at least three different touch buttons, one for a different song each.<br>
It should also include the display that will blink to the beat of the long. Include the display as a square area of XXcm by XXcm so you will leave enough space for it. We will draw the mask layer seperately in a moment.<br>
Make sure you use the correct wire thickness (at least 1mm) and connector pad size (at least 1cm x 1cm), and that you fill each touch button with a fill color (make CMYK = 100).<br>
We recommend all your connector pads route to a common location where you will attach the microcontroller later.<br>
Make sure all the silver you draw has the line/area color 'black (CMYK: 0,0,0,255)'.<br>
The touch button should also be surrounded by a decorative color design to show that you can print color and silver together. <br><br>
 -->
<!-- <img src="images/lab1/Cool_Jams.jpg" width="300px"><br> -->


<!-- 
<img src="images/lab1/silver-ink.jpg" width="317px" />
<img src="images/lab1/silver-inkjet-printing.png" width="317px" /><br><br>
 -->

<!-- <img src="images/lab1/touch-button-decorative2.png" width="300px"><br>
Silver touch button in the middle is overprinted with white in a second layer. In addition, the red flame is added as a decorative element (it has no input functionality).<br><br>
 -->

<!-- The shape of the touch buttons and display is completely up to you -- be creative and please don't just make a rectangle. Also keep in mind that the wire does not have to be a straight line but can be any decorative pattern you'd like to use (e.g. a wavy line).  <br><br> -->

<!--
Processing is a program that makes it easy to prototype user interfaces. Once you got your microcontroller in the mail, we will wire everything up and write code to send the touch button input directly to Processing, so that it can visualize if the button is pressed or not. Today, we are going to prepare the UI in Processing so you have everything ready when the rest comes in the mail.<br><br>

<div style="background:#04a47c;padding:10px;">Checkoff 1: The Teaching Team printed your Touch Sensor and it works</div>

</br>

 <h3 class="headline">Install Processing</h3>

You can download Processing for Windows, Mac, Linux here: <a href="https://processing.org/download/">https://processing.org/</a>.<br>
Once you downloaded it, you should see an IDE similar to the one Arduino uses.

<br><br>

<img src="images/lab1/processing-ui.png" width="350px"><br><br>

 <h3 class="headline">Code Structure: setup() and draw()</h3>

Similar to Arduino, Processing works with two functions:<br><br>

<b>setup():</b> is only run once at the beginning<br>
<b>draw():</b> is run repeatedly similar to Arduino's loop() function<br><br>

While the simple examples below do not require you to have this structure in place (i.e. you can simple type the code into the empty window, it is good practice to put the code for redrawing the window into draw() and the code that is only required once into setup()).<br><br>

 <h3 class="headline">Getting Started: Drawing a Shape and Mouse Input</h3>

If you haven't done it yet, please do the getting started tutorial to learn how to draw a shape and do mouse input:<br>
<a href="https://processing.org/tutorials/gettingstarted/">https://processing.org/tutorials/gettingstarted/</a><br><br>

<h3 class="headline">Loading in an Image of the Mug</h3>

First, display the image below as the background of your Processing application.<br><br>
Make sure your image file is inside your project folder (Documents -> Processing -> project folder) otherwise it cannot be loaded.<br><br>

To load an image, you can use the <a href="https://processing.org/reference/PImage.html">documentation for PImage</a>.<br><br>

<img src="images/lab1/load-image-card.png" width="200px"> <br><br>

 <h3 class="headline">Create Touch Button in Processing</h3>

Processing allows us to quickly create user interfaces on screen.<br><br>

 <h5>Creating Touch Button on Image</h5>

Next, we want to create a touch button and place it on the mug where our final touch button will be in the design.<br>
For simplicity, we will assume that you touch button is rectangular for now.<br>
We will show you later how to load the actual geometry of your button.<br><br>

Make a rectangle with round corners and in silver (gray) color like shown in the image below:<br>
<a href="https://processing.org/reference/rect_.html">Processing Reference for rect()</a><br>
<a href="https://processing.org/reference/fill_.html">Processing Reference for fill()</a><br><br>

<img src="images/lab1/processing-fill-color-rect-card.png" width="200px"><br><br>

If you need it later, you can find the full reference here: <br>
<ul><li><a href="https://processing.org/reference/">Complete Processing Reference</a>.</li></ul><br>

 <h5>Changing Color of Button if Button is Pressed</h5>

In the future, we will receive a signal from our Arduino that will either say 'touched' or 'not touched' and based on that we want to visualize in our UI that the button is pressed or not. Here, we are going to simulate this: When the mouse is over the touch button and the mouse is pressed, we want to color the button in green, otherwise the button should remain colored in gray/silver to show that it is inactive. In addition, we want to render a piece of text showing the button was pressed as shown below. <br><br>

To implement this you will need:
<ul>
  <li>if/else statement (works the same as in other programming languages)</li>
  <li>for mouse click, you may want to look at <a href="https://processing.org/reference/mousePressed_.html">Mouse Pressed Processing Reference</a></li>
  <li>for mouse click on the button: unfortunately processing does not have an intersect function, so you need to check if the mouse coordinates are within the X/Y bounds of the touch button</li>
  <li>for the text, you may want to look at <a href="https://processing.org/reference/PFont.html">Processing Reference for Pfont</a> and <a href="https://processing.org/tutorials/text/">text tutorial here</a></li>
</ul>
<br><br>

<img src="images/lab1/card-animated.gif" width="250px"><br><br>


<div style="background:#04a47c;padding:10px;">Checkoff 2: Show your completed push/unpush program.</div>


<h5>Importing Vector Graphics</h5>

Next, we will import your actual drawing to the canvas.<br>
For this, we prepared this .svg import class. <br><br>

To load your .svg file, make sure your image file is inside your project folder (Documents -> Processing -> project folder) otherwise it cannot be loaded.<br><br>

You can use the <a href="https://processing.org/reference/PShape.html">Processing PShape reference</a> to see how to load it.</br>
Position it where your former touch button was.</br></br>

If you create your SVG file in Illustrator, make sure you change the following export option: When you save the svg 1) choose "More Options" in the SVG Options dialog, and then 2) select the "Style Attributes" in the drop CSS Properties drop down to make it compatible with Processing. <br><br>

<img src="images/lab1/readsvg2.png" width="350px">

<h5>Checking for Mouse Input on a Vector Graphic of Arbitrary Shape</h5>

With a vector graphics, our simple boundary checking doesn't really work anymore, so we need something more sophisticated.<br>
For this, we implemented you the following collision detection class that you can use in your project.<br>

All possible ways are described here <a href="http://jeffreythompson.org/collision-detection/table_of_contents.php">http://jeffreythompson.org/collision-detection/table_of_contents.php</a>.<br>
We provide you with a code file that handles for you the point (mouse cursor) and polygon (shape) detection.<br>
You can read more about it here <a href="http://jeffreythompson.org/collision-detection/poly-point.php">http://jeffreythompson.org/collision-detection/poly-point.php</a><br><br>

<div style="background:#04a47c;padding:10px;">Checkoff 3: Show your vector graphics button.</div>


<h3>Processing Tutorials and Problem Set 1:</h3>

If you still have time left, we recommend you use it to check out some of the <a href="https://processing.org/tutorials/">additional Processing tutorials</a>.<br><br>

Alternatively, you can start with <a href="conductive-inkjet-design.html">Problem Set 1, which we released today.</a>




<b>Materials and Layerstack:</b> An EL display contains (1) phosphor, which can glow when current is applied. To make it glow, the phosphor has to be sandwiched by a bottom and top electrodide. The bottom electrode can be a conductive material, such as (2) our silver ink (alternatively copper can be used for even higher conductivity). The top electrode cannot be made from silver since you would otherwise not see the phosphor anymore! Thus, the top electrode is made from a transparent conductive material called (3) PEDOT:PSS. Finally, since the phosphor and the electrodes are all conductive, we cannot lay them all on top of each other since this would create a short circuit. Therefore, we need to add (4) a dielectric insulating layer between the bottom electrode and the phosphor (conceptually, the dielectric could also be between the phosphor and the top electrode, but again then you wouldn't see anything anymore since the dieletric is not transparent). <br><br>

You can buy the materials here: <br>
<ul>
	<li>copper ink (add link)</li>
	<li>PEDOT:PSS (add link)</li>
	<li>Phosphor (add link)</li>
	<li>Dieletric (add link)</li>
</ul>

<img src="images/lab1/el-materials.png" width="400px"><br>
<img src="images/lab1/el-layerstack.png" width="500px"><br><br>

<b>Size of each layer:</b> Note that the dieletric layer is a bit larger than the other layers. Since the dieletric layer prevents everything from short circuiting, it should be a bit larger to make sure all other layers are really seperated from each other and not touching. <br><br>

<img src="images/lab1/el-area-sizes.png" width="500px"><br><br>

<b>Fabrication:</b> While the silver ink and PEDOT:PSS can be inkjet printed, the phosphor and dieletric have unfortunately too large particules in their inks, which clogg printer nozzles. We there screen printed the display you got. Below, you can see images of how we did it.<br><br>

<img src="images/lab1/screen-printing.jpg" width="500px"><br><br>
 -->


<br>

        <br />
        <br />
        <br />
      </section>

      <aside class="col-md-4 pull-left">
         <br /> <br /> <br /> <br />
<!-- 				 <h4>Pset Steps</h4><br>
				 <ul>
		 			<li><a href="#pset1">pset1 (due Sept. 21, 11.59pm): laser cut and bend the acrylic base</a><br /></li>
		 			<li><a href="#pset2">pset2 (due Oct. 5, 1pm): insert LEDs, add USB connecting and solder everything</a><br /></li>
		 			<li><a href="#pset3">pset3 (due Oct. 19, 1pm): write touch recognition so that you can determine (x,y) location of each finger</a><br /></li>
		 			<li><a href="#pset4">pset4 (due Oct. 26, 1pm): add an application of your choice</a><br /></li>
				</ul>
				<br /> <br /> <br /> <br />
        <img src="../2018-fall-6810/images/multi-touch-pad/iap1.jpg" width="220px">

		<img src="../2018-fall-6810/images/multi-touch-pad/iap2.jpg" width="220px">

		<img src="../2018-fall-6810/images/multi-touch-pad//iap3.jpg" width="220px">

		<img src="../2018-fall-6810/images/multi-touch-pad/iap4.jpg" width="220px">

		<img src="../2018-fall-6810/images/multi-touch-pad/iap5.jpg" width="220px">
 -->



        <!-- Publication -->

        <br><br><br><br><br>

        <!-- Publication -->

<!-- <h4>Side Bar</h4><br>

    <ul>
      <li>Prof. Stefanie Mueller (Instructor)</li>
      <li>Lotta-Gili Blumberg (TA)</li>
      <li>Xin Wen (UTA)</li>
      <li>Loren Maggiore (LA)</li>
      <li>Mark Chounlakone (LA)</li>
    </ul>
 -->
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>

      </aside>

    </div>
  </div>
  </div>
</section>

<div class="container">
	<div class="row">
		<div class="col-md-12 footer" style="text-align: center;">
			<span class="copyright">
			Since 2017 &copy; MIT CSAIL (HCI Engineering group) [redesign by
			<a href="http://punpongsanon.info/" target="_blank" style="text-decoration:none; border-bottom:0px">
			moji
			</a>].
			All Rights Reserved.

			<a href="http://mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/mit.svg" alt="MIT" class="footer-logo" />
			</a>
			<a href="http://csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/csail.svg" alt="CSAIL" class="footer-logo"/>
			</a>
			<a href="http://hci.csail.mit.edu/" target="_blank" style="text-decoration:none; border-bottom:0px">
			<img src="../../images/logo/hci.svg" alt="HCI" class="footer-logo"/>
			</a>
			</span>
		</div>
	</div>
</div>

<!-- Bootstrap -->
<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
<!-- header -->
<script type="text/javascript" src="../../js/headerstrap-for-subpage.js"></script>

</body>
</html>
