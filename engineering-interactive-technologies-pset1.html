<!DOCTYPE html>
<html>
<head>
<title>HCI Engineering Group</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- CSAIL icon -->
<link rel="shortcut icon" href="/images/icons/csail.ico" type="image/x-icon" />

<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<link href="css/custom.css" rel="stylesheet">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

<style>

.etech-sch-col1 {width:60px; border: 1px solid black;}
.etech-sch-col2 {width:100px; border: 1px solid black;}
.etech-sch-col3 {width:450px; border: 1px solid black;}
.etech-sch-col4 {width:120px; border: 1px solid black;}
</style>

<!-- Fonts -->
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Raleway:300' rel='stylesheet' type='text/css'>
</head>

<body>
<header class="main__header normal">
   <!-- to be filled by javascript, see header.html-->
</header>

<section class="main__middle__container">
  <div class="container">
    <div class="row nothing">

      <section class="col-md-8 pull-right main-content">
        <h4 class="custom_headline_medium" style="font-size:12px;padding-bottom:10px"><a href="http://hcie.csail.mit.edu/engineering-interactive-technologies.html">6.S063 Engineering Interactive Technologies (fall 2017)</a><br></h>
         <h2 class="custom_headline_medium">PSet1: Build a Multi-Touch Pad</h2>

       <p style="color:red;"><b>Deadline:</b> <br>
        step 1/2: due Wednesday (September 20, 2017) at 11:59pm, upload <a href="https://learning-modules.mit.edu/gradebook/index.html?uuid=/course/6/fa17/6.S063#assignments/32774335"><b style="color:red;">here</b></a><br>
        step 3/4: due Wednesday (October 4, 2017) at 11:59pm, upload <a href="https://learning-modules.mit.edu/gradebook/index.html?uuid=/course/6/fa17/6.S063#assignments/32777208"><b style="color:red;">here</b></a></p>


       <div style="font-size:12pt;margin-bottom:8px;margin-top:25px"><b>Deliverables:</b> </div>
        <ul>
          <li>Sept. 20: upload to <a href="https://learning-modules.mit.edu/gradebook/index.html?uuid=/course/6/fa17/6.S063#assignments/32774335"><b>Gradebook</b></a> 
            <ul>
              <li>a short video showing your laser cut / bend casing (step 1)</li>
              <li>a short video showing how you turn on/off LEDs with the switch (step 2)</li> 
              <li>use your mobile phone to capture the video, no fancy editing please</li>

            </ul>
          </li>
          <li>Oct. 4: upload to <a href="https://learning-modules.mit.edu/gradebook/index.html?uuid=/course/6/fa17/6.S063#assignments/32777208"><b>Gradebook</b></a>:
              <ul>
                  <li>a short video showing results from finger tracking (step 3)</li>
                  <li>a short video showing your application (step 4)</li>
                  <li>the code for step 3 + step 4</li>
              </ul>
          </li>
          <li>October 11: give a <b>live demo</b> of your touch pad to your TA, sign up for a demo slot at (doodle, to come)</li>
          <li>grading criteria are mentioned below after each step</li>
        </ul>

<br>
 <div style="color:red; border: red 1px solid; padding: 20px;margin-bottom:20px;">
Everything on this page is provisional until announced in class. <br></div>

 <div style="font-size:12pt;margin-bottom:8px;margin-top:25px"><b>Questions?</b> </div>
 <ul>
                  <li>post on <a href="https://piazza.com/class/j0o7o1dyi8js">piazza</a> </li>
                  <li>go to a TA office hour for building/coding oriented questions (tbd)</li>
                  <li>go to an instructor office hour for logistical questions and grading (mondays, 4-5pm, 32-211)</li>
                  <li>do not send us emails</li>
              </ul>
<br>
<hr>


    <b> <div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Task:</div></b>
Build a multi-touch pad using the principles of <a href="http://wiki.nuigroup.com/FTIR">FTIR (Frustrated Total Internal Reflection).</a> <br>
The multi-touch pad has all the components required later for your group project: custom laser-cut parts, custom electronics, and custom code. <br>
We hope by doing this problem set and getting experience with end-to-end prototyping, you will be able to better scope your group project.<br>



  <b> <div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Supplies:</div></b>
We will provide you with all the materials you need, you will get from us:
 <ul>
          <li>a camera</li>
          <li>an acrylic sheet</li>
          <li>USB connector + cover</li>
          <li>a switch</li>
          <li>LEDs</li>
          <li>resistors</li>
 </ul>

<p>
In addition we give you the following components, which help you prototype your touchpad but are not part of the final prototype:

 <ul>
          <li>microcontroller</li>
          <li>breadboard</li>
          <li>prototyping cables</li>
          <li>alligator clips</li>
        </ul>
</p>

  
<div style="font-size:12pt;margin-bottom:8px;margin-top:25px">
  <b>Equipment:</b></div>

To build the multi-touch pad you need access to the following equipment:
 <ul>
          <li>a laser cutter</li>
          <li>a heat gun or strip heater for bending the sheet</li>
          <li>a soldering iron</li>
        </ul>
<br>
<hr>


  <b><div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Step 1: Laser cut and bend the casing (25%, due Sept. 20)</div></b>

<ul>
<li>create the .svg file for the acrylic sheet in a 2D drawing program
  <ul>
  <li>outline of touch pad:
    <ul>
     <li>height: 18cm</li> 
     <li>tracking area on top: 14cm x 12cm</li>
     <li>add thin engraved lines at the locations where you will bend your pad</li>
     <li>do not change any of these dimensions since camera image will not be in focus anymore and you will have tracking problems later on</li>
    </ul>
  </li>
  <li>horizontal line with electrical components:
    <ul>
      <li>place it at 5cm from the bottom (the camera will be glued underneath the LEDs)</li>
      <li>1 hole for the switch </li>
      <li>1 hole for the resistor</li>
      <li>8 holes for the LEDs</li>
    </ul>
  </li>
  <li>customize your touchpad on the opposite side:
    <ul>
      <li>on the side that does not hold the LEDs, add a custom cut-out or engraving</li>
      <li>this can be anything you like, e.g. your name, an image, the MIT logo, be creative</li>
    </ul>
  </li>
  </ul>
<li>use strip heater or heat gun to bend the acrylic sheet
 <ul>
      <li>warm up equally from both sides to make sure the sheet is thouroughly heated</li>
      <li>use an alignment aid to make sure you get a 90 degree bend</li>
  </ul>
</li>
</ul>


<u>Grading of step 1</u></br>

If you finished this part completely, you will get full points except when one of these is the case:
 <ul>
      <li>measurement errors: holes for components are too large / small, wrong height, not enough space for camera etc.</li>
      <li>laser cutter problems: edges are not clear cut or lots of burning marks on the pad etc.</li>
      <li>bending problems: touchpad does not stand stable (bends are not exactly 90 degree), visible heat bubbles at the corners due to overheating during bending etc.</li>
  </ul>

</p>


<img src="images/classes/pset1-multitouch/lasercut-drawing.png" width="300px">
<img src="images/classes/pset1-multitouch/lasercut.png" width="300px">
<img src="images/classes/pset1-multitouch/lasercut-finished.png" width="300px">
<img src="images/classes/pset1-multitouch/stripheater.png" width="300px">
<img src="images/classes/pset1-multitouch/stripheater-test.png" width="300px">
<img src="images/classes/pset1-multitouch/stripheater-bend1.png" width="300px">
<img src="images/classes/pset1-multitouch/stripheater-bend2.png" width="300px">
<img src="images/classes/pset1-multitouch/stripheater-done.png" width="300px">

 <b><div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Step 2: Getting the electronics to work (25%, due Sept. 20)</div></b>

<ul>
  <li>add the 8 LEDs, the right resistor, and the switch to your prototype and solder them
    <ul>
      <li>prototype the LED setup first using the breadboard and the microcontroller</li>
      <li>test 1 LED with resistor on breadboard first, lights up? good.</li>
      <li>extend your circuit to 8 LEDs, adjust resistor, all lights up? good</li>
      <li>remove LEDs from breadboard and plug them into your acrylic sheet (all long legs on one side)</li>
      <li>cross LED legs to connect them to each other</li>
      <li>test with Arduino 5V and GND if they still all light up</li>
      <li>if yes, solder them</li>
      <li>add switch to the setup, solder the switch to the LEDs</li>
      <li>test with Arduino 5V and GND, does the switch work?</li>
    </ul>
  </li>
 <li>create your USB cable
   <ul>
      <li>create a twisted cable using two cables and a drill</li>
      <li>solder the two cable ends to the outer two pins of the USB connector</li>
      <li>assemble the USB connector and the casing around the cables</li>
      <li>solder the end of the cables to your touch pad</li>
      <li>connect the USB cable to your laptop, do the LEDs light up (make sure the switch is on ;))?</li>
     </ul>
   </li>
</ul>

<u>Grading of step 2</u></br>

If you finished this part completely, you will get full points except when one of these is the case:
 <ul>
      <li>LEDs: the LEDs don't turn on, the contact is shaky, or the LEDs are very dim, which means you used the wrong resistor</li>
      <li>soldering: you used an unsual high amount of solder to get your connections done</li>
      <li>switch: the switch doesn't work</li>
      <li>USB cable: your USB cable does not work, doesn't have the casing on top, or is not twisted  </li>
  </ul>
</p>

<img src="images/classes/pset1-multitouch/arduino-software.png" width="300px">
<img src="images/classes/pset1-multitouch/electronics-1led.png" width="300px">
<img src="images/classes/pset1-multitouch/electronics-switch.png" width="300px">
<img src="images/classes/pset1-multitouch/cable1.png" width="300px">
<img src="images/classes/pset1-multitouch/cable2.png" width="300px">
<img src="images/classes/pset1-multitouch/usb1.png" width="300px">
<img src="images/classes/pset1-multitouch/usb2.png" width="300px">
<img src="images/classes/pset1-multitouch/usb-done.png" width="300px">




<b><div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Step 3: Computer vision finger tracking (25%, due Oct. 4)</div></b>

<ul>
<li>tape the camera onto your touchpad below the LEDs</li>
<li>final goal:
  <ul>
    <li>display the live camera image showing the coordinates of the finger tips drawn into the image as (x,y) where the finger tips are</li>
  <li>your interface also needs to have sliders to threshold the image for HSV min/max</li>
</ul>
</li>
  <li>tips how to get there:
      <ul>
        <li>check if the camera works: display the raw camera image</li>
        <li>convert the raw camera image to HSV color space</li>
        <li>threshold for your LED color (outcome is a black/white image: white is where you color is, black everything else)
            <ul>
              <li>it helps to create some sliders for hmin, hmax, smin, smax, vmin, vmax so you can try around until you find good values since light conditions change</li>
            </ul>
        </li>
        <li>find contours in threshold image (use openCV draw functions to draw them into the image for debugging)</li>
        <li>only keep the contours that are the size of a finger tip (discard too small or too large contours, again having sliders for this helps, i.e. minArea and maxArea)</li>
        <li>find contour center to have touch coordinates
          <ul>
            <li>fit a circle around contour (fitElipse ())</li>
           <li>get center of circle for touch coordinate</li>
          </ul>
      </li>
      <li>draw (x,y) coordinates of each finger tip onto the image</li>
    </ul>
</li>
</ul>

<u>Grading of step 3</u></br>

If you finished this part completely, you will get full points except when one of these is the case:
 <ul>
      <li>finger tips: not recognized or recognition shaky</li>
      <li>code quality: your code is a mess</li>
      <li>threshold sliders: your interface has no sliders for thresholding but instead only uses hard coded values</li>
      <li>coordinates: the coordinates are not drawn at the finger tips but in a fixed location</li>
  </ul>
</p>

<img src="images/classes/pset1-multitouch/opencv1.png" width="600px">
<img src="images/classes/pset1-multitouch/opencv2.png" width="600px">



<b><div style="font-size:12pt;margin-bottom:8px;margin-top:25px">Step 4: Custom application with gesture recognition (25%, due Oct. 4)</div></b>

<ul>
    <li>write your own application that uses the touchpad</li>
    <li>you can come up with any application you like and we are excited to see what you come up with!</li>
    <li>a boring one, but one that's easy to do is a drawing application:
       <ul>
         <li>e.g. finger tip size = thickness of brush</li>
         <li>e.g. finger number + short tip = color selection (1 finger yellow, 2 finger blue)</li>
         <li>e.g. scaling the drawn image = dragging with two fingers</li>
       </ul>
     </li>
</ul>

<u>Grading of step 4</u></br>

 <ul>
      <li>you lose points if your application has less than 3 recognized gestures (pinch with two fingers, tap with one finger, use finger width as input etc.) and less than 3 different functions (e.g. select color, adjust line thickness, scale drawing)</li>
      <li>we give up to 5 bonus points that can make up for some of the other lost points in step 1-3 for especially creative and comprehensive solution</li>
  </ul>
</p>




        <br />
        <br />
      </section>
      
      <aside class="col-md-4 pull-left">
        
        <!-- Publication -->

        <br>
<img src="images/classes/pset1-multitouch/iap1.jpg" width="250px">
<img src="images/classes/pset1-multitouch/iap2.jpg" width="250px">
<img src="images/classes/pset1-multitouch/iap3.jpg" width="250px">
<img src="images/classes/pset1-multitouch/iap4.jpg" width="250px">
<img src="images/classes/pset1-multitouch/iap5.jpg" width="250px">





   <!--      <strong>Announcements:</strong><br>
        <p>
          (to come)
          <br>
          <br>
        </p> -->

<!--         <strong>TAs:</strong><br>

        <p>
          <a href="https://www.behance.net/apgomes" target="_blank">Antonio Gomes (Postdoc)</a><br>
          <a href="http://www.sens.sys.es.osaka-u.ac.jp/users/punpongsanon/" target="_blank">Parinya Punpongsanon (Postdoc)</a><br>
          <a href="http://www.paulw.info/" target="_blank">Paul Worgan (Postdoc)</a><br>
          <br>
        </p>

        <strong>When:</strong><br>
        <p>
          Fall 2017<br>
          days/time tbd<br>
          <br>
        </p> -->

        <!-- Publication -->
  <!--       <strong>Where:</strong><br>
        <p>
          <br>
          <br>
        </p>
 -->
        <!-- Publication -->
   <!--      <strong>What to bring:</strong><br>
        <p>
          your laptop<br>
          we bring the rest<br><br>
        </p> -->

        <!-- Publication -->
 <!--        <strong>Prerequisites:</strong><br>
        <p>
          6.005 Elements of Software Construction <br>
          6.031 Elements of Software Construction (new) <br> 
          6.111 Introductory Digital Systems Laboratory<br>
          6.115 Microcomputer Project Laboratory<br>
          or instructor permission<br><br>
        </p>
       -->

     <!--    <strong>Class Size:</strong><br>
        <p>
          Maximum 30 students.<br>
          Enrollment limited. <br>
        <br>
        </p> -->

          
      </aside>
      
    </div>
  </div>
  </div>
</section>

<div class="custom_footer" align="center">
<span class="copyright">
Since 2017 &copy; MIT CSAIL (HCI Engineering group). All Rights Reserved.
</span>
<a href="http://mit.edu/" target="_blank" style="text-decoration:none;border-bottom:0px"><img src="images/logos/mit.svg" alt="MIT" class="custom_footer_logo" /></a>
<a href="http://csail.mit.edu/" target="_blank" style="text-decoration:none;border-bottom:0px"><img src="images/logos/csail.svg" alt="CSAIL" class="custom_footer_logo"/>
</a>
<a href="http://hci.csail.mit.edu/" target="_blank" style="text-decoration:none;border-bottom:0px"><img src="images/logos/hci.svg" alt="HCI" class="custom_footer_logo"/></a>
</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script type="text/javascript" src="js/jquery.min.js"></script> 
<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script src="js/bootstrap.min.js"></script> 
<script type="text/javascript">
/** START loads the header, please insert in every file **/
$("header").load("header.html", function(){
  var linkToMe = $('a[href="'+window.location.href.split('/').pop()+'"]').parent();
  linkToMe.addClass('active')
});
/** END **/

$('.carousel').carousel({
  interval: 3500, // in milliseconds
  pause: 'none' // set to 'true' to pause slider on mouse hover
})
</script> 

<script type="text/javascript">
$( "a.submenu" ).click(function() {
$( ".menuBar" ).slideToggle( "normal", function() {
// Animation complete.
});
});
$( "ul li.dropdown a" ).click(function() {
$( "ul li.dropdown ul" ).slideToggle( "normal", function() {
// Animation complete.
});
$('ul li.dropdown').toggleClass('current');
});
</script>

<!-- Google Analytic // UA-91887045-1 --> 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91887045-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>